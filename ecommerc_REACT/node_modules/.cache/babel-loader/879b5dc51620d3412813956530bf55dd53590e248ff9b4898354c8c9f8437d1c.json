{"ast":null,"code":"import { configureStore } from \"@reduxjs/toolkit\";\nimport productSlice from \"./features/productSlice\";\nimport userSlice from \"./features/userSlice\";\nimport appApi from \"./services/appApi\"; // Your RTK Query API service\nimport storage from \"redux-persist/lib/storage\";\nimport { combineReducers } from \"redux\";\nimport { persistReducer, persistStore } from \"redux-persist\";\n\n// Combining reducers\nconst reducer = combineReducers({\n  user: userSlice,\n  products: productSlice,\n  [appApi.reducerPath]: appApi.reducer // RTK Query API service\n});\n\n// Persist Config for redux-persist\nconst persistConfig = {\n  key: \"root\",\n  storage,\n  blacklist: [appApi.reducerPath, \"products\"] // Don't persist products and appApi data\n};\n\n// Creating a persisted reducer\nconst persistedReducer = persistReducer(persistConfig, reducer);\n\n// Creating the store with middleware\nconst store = configureStore({\n  reducer: persistedReducer,\n  middleware: getDefaultMiddleware => getDefaultMiddleware({\n    serializableCheck: false // Needed for redux-persist\n  }).concat(appApi.middleware) // Adding RTK Query's middleware\n});\nexport const persistor = persistStore(store); // For persisting the store\nexport default store;\n\n/*\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport appApi from \"./services/appApi\";\n\nconst initialState = null;\n\nexport const userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    logout: () => initialState,\n    addNotification: (state, action) => {\n      state.notifications.unshift(action.payload);\n    },\n    resetNotifications: (state) => {\n      state.notifications.forEach((obj) => {\n        obj.status = \"read\";\n      });\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addMatcher(\n      appApi.endpoints.signup.matchFulfilled,\n      (_, { payload }) => payload\n    );\n    builder.addMatcher(\n      appApi.endpoints.login.matchFulfilled,\n      (_, { payload }) => payload\n    );\n    // Add other matchers like addToCart, removeFromCart, etc.\n  },\n});\n\nexport const { logout, addNotification, resetNotifications } =\n  userSlice.actions;\nexport default userSlice.reducer;\n\n\n\n\n\n/*\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport productSlice from \"./features/productSlice\";\nimport userSlice from \"./features/userSlice\";\nimport appApi from \"./services/appApi\";\n\n// persist our store\nimport storage from \"redux-persist/lib/storage\";\nimport { combineReducers } from \"redux\";\nimport { persistReducer } from \"redux-persist\";\n\n// reduces\nconst reducer = combineReducers({\n  user: userSlice,\n  products: productSlice,\n  [appApi.reducerPath]: appApi.reducer,\n});\n\nconst persistConfig = {\n  key: \"root\",\n  storage,\n  blacklist: [appApi.reducerPath, \"products\"],\n};\n\n// persist our store\nconst persistedReducer = persistReducer(persistConfig, reducer);\n\n// create store\nconst store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat([appApi.middleware]),\n});\n\nexport default store;\n\n\n\n\n*/","map":{"version":3,"names":["configureStore","productSlice","userSlice","appApi","storage","combineReducers","persistReducer","persistStore","reducer","user","products","reducerPath","persistConfig","key","blacklist","persistedReducer","store","middleware","getDefaultMiddleware","serializableCheck","concat","persistor"],"sources":["/Users/khaledsaidani/Desktop/ecom_Proj/frn_e-com/ecom/src/store.js"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\nimport productSlice from \"./features/productSlice\";\nimport userSlice from \"./features/userSlice\";\nimport appApi from \"./services/appApi\"; // Your RTK Query API service\nimport storage from \"redux-persist/lib/storage\";\nimport { combineReducers } from \"redux\";\nimport { persistReducer, persistStore } from \"redux-persist\";\n\n// Combining reducers\nconst reducer = combineReducers({\n  user: userSlice,\n  products: productSlice,\n  [appApi.reducerPath]: appApi.reducer, // RTK Query API service\n});\n\n// Persist Config for redux-persist\nconst persistConfig = {\n  key: \"root\",\n  storage,\n  blacklist: [appApi.reducerPath, \"products\"], // Don't persist products and appApi data\n};\n\n// Creating a persisted reducer\nconst persistedReducer = persistReducer(persistConfig, reducer);\n\n// Creating the store with middleware\nconst store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: false, // Needed for redux-persist\n    }).concat(appApi.middleware), // Adding RTK Query's middleware\n});\n\nexport const persistor = persistStore(store); // For persisting the store\nexport default store;\n\n/*\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport appApi from \"./services/appApi\";\n\nconst initialState = null;\n\nexport const userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    logout: () => initialState,\n    addNotification: (state, action) => {\n      state.notifications.unshift(action.payload);\n    },\n    resetNotifications: (state) => {\n      state.notifications.forEach((obj) => {\n        obj.status = \"read\";\n      });\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addMatcher(\n      appApi.endpoints.signup.matchFulfilled,\n      (_, { payload }) => payload\n    );\n    builder.addMatcher(\n      appApi.endpoints.login.matchFulfilled,\n      (_, { payload }) => payload\n    );\n    // Add other matchers like addToCart, removeFromCart, etc.\n  },\n});\n\nexport const { logout, addNotification, resetNotifications } =\n  userSlice.actions;\nexport default userSlice.reducer;\n\n\n\n\n\n/*\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport productSlice from \"./features/productSlice\";\nimport userSlice from \"./features/userSlice\";\nimport appApi from \"./services/appApi\";\n\n// persist our store\nimport storage from \"redux-persist/lib/storage\";\nimport { combineReducers } from \"redux\";\nimport { persistReducer } from \"redux-persist\";\n\n// reduces\nconst reducer = combineReducers({\n  user: userSlice,\n  products: productSlice,\n  [appApi.reducerPath]: appApi.reducer,\n});\n\nconst persistConfig = {\n  key: \"root\",\n  storage,\n  blacklist: [appApi.reducerPath, \"products\"],\n};\n\n// persist our store\nconst persistedReducer = persistReducer(persistConfig, reducer);\n\n// create store\nconst store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat([appApi.middleware]),\n});\n\nexport default store;\n\n\n\n\n*/\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,kBAAkB;AACjD,OAAOC,YAAY,MAAM,yBAAyB;AAClD,OAAOC,SAAS,MAAM,sBAAsB;AAC5C,OAAOC,MAAM,MAAM,mBAAmB,CAAC,CAAC;AACxC,OAAOC,OAAO,MAAM,2BAA2B;AAC/C,SAASC,eAAe,QAAQ,OAAO;AACvC,SAASC,cAAc,EAAEC,YAAY,QAAQ,eAAe;;AAE5D;AACA,MAAMC,OAAO,GAAGH,eAAe,CAAC;EAC9BI,IAAI,EAAEP,SAAS;EACfQ,QAAQ,EAAET,YAAY;EACtB,CAACE,MAAM,CAACQ,WAAW,GAAGR,MAAM,CAACK,OAAO,CAAE;AACxC,CAAC,CAAC;;AAEF;AACA,MAAMI,aAAa,GAAG;EACpBC,GAAG,EAAE,MAAM;EACXT,OAAO;EACPU,SAAS,EAAE,CAACX,MAAM,CAACQ,WAAW,EAAE,UAAU,CAAC,CAAE;AAC/C,CAAC;;AAED;AACA,MAAMI,gBAAgB,GAAGT,cAAc,CAACM,aAAa,EAAEJ,OAAO,CAAC;;AAE/D;AACA,MAAMQ,KAAK,GAAGhB,cAAc,CAAC;EAC3BQ,OAAO,EAAEO,gBAAgB;EACzBE,UAAU,EAAGC,oBAAoB,IAC/BA,oBAAoB,CAAC;IACnBC,iBAAiB,EAAE,KAAK,CAAE;EAC5B,CAAC,CAAC,CAACC,MAAM,CAACjB,MAAM,CAACc,UAAU,CAAC,CAAE;AAClC,CAAC,CAAC;AAEF,OAAO,MAAMI,SAAS,GAAGd,YAAY,CAACS,KAAK,CAAC,CAAC,CAAC;AAC9C,eAAeA,KAAK;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}